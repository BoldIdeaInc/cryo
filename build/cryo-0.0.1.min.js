/*
 The MIT license.
 @copyright Copyright (c) 2010 Skookum, skookum.com
*/
(function(){Cryo={stringify:function(d){function g(a){if("object"===typeof a){c.indexOf(a);-1===c.indexOf(a)&&c.push(a);for(var b in a)a.hasOwnProperty(b)&&g(a[b])}}function f(a){return"object"===typeof a?"_jsref_objects["+c.indexOf(a)+"]":a}var c=[];g(d);for(var e=Array(c.length),b=c.length;b--;){var a=c[b],j=a instanceof Array?[]:{},h;for(h in a)a.hasOwnProperty(h)&&(j[h]=f(a[h]));e[b]=j}return JSON.stringify({root:f(d),objects:e})},parse:function(d){function g(a){return"string"===typeof a&&"_jsref_objects["===
a.slice(0,15)?(a=a.slice(15,-1),f[a]):a}d=JSON.parse(d);for(var f=d.objects,c=f.length;c--;){var e=f[c],b;for(b in e)e.hasOwnProperty(b)&&(e[b]=g(e[b]))}return g(d.root)}};"undefined"!==typeof define&&define.amd?define("Cryo",[],function(){return Cryo}):"undefined"!==typeof module&&module.exports?module.exports=Cryo:this.Cryo=Cryo})();
